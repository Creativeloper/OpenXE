<p><span style="font-size:28px;"><strong>System Meldungen (System Health)</strong></span></p>&nbsp;<p>Im Modul System Meldungen erhalten Sie eine &Uuml;berlick &uuml;ber den &quot;Gesundheitszustand&quot; Ihres Systems. Entdeckt das System an verschiedenen Stellen Unstimmigkeiten wie etwa doppelte Nummern, Fehler beim Ausf&uuml;hren von Prozessstartern, einen vollgelaufenen Speicher o.&Auml;. wird eine Warn- oder Fehlermeldung in der System Health &Uuml;bersicht erzeugt.</p><br /><br /><img src="index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=systemhealth&amp;fileid=4" /><h1>&Uuml;bersicht</h1> In der &Uuml;bersicht erhalten Sie auf einen Blick alle Meldungen &uuml;ber den Gesundheitszustand des Systems.<br /><br />Warnungen werden in orange angezeigt, Fehlermeldungen in rot.<img src="index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=systemhealth&amp;fileid=5" /><h2>Beobachten</h2> Sollten bestimmte Meldungen in Ihrem System h&auml;ufiger sein, k&ouml;nnen Sie diese als &quot;beobachtet&quot; erkennen. Im Fall des Auftretens eines solchen Fehlers wird Ihnen dann sofort ein Hinweis auch im laufenden Betrieb eingeblendet.<br />&nbsp;<h2>Zeitlicher Ablauf der Systempr&uuml;fungen</h2> Die dargestellten Meldungen werden in verschiedenen Intervallen und zu verschiedenen Zeitpunkten erstellt.<br /><br />Regelm&auml;&szlig;ige Pr&uuml;fung durch ProzessstarterWie weiter unten beschrieben f&uuml;hrt der mitgelieferte Prozessstarter regelm&auml;&szlig;ig (typischerweise ein mal t&auml;glich) ausf&uuml;hrliche Pr&uuml;froutinen durch um den Systemzustand zu bewerten.<br />Einige der regelm&auml;&szlig;ig ausgef&uuml;hrten Pr&uuml;fungen werden beim Aufruf des Moduls System Meldungen erneut ausgef&uuml;hrt. Im Zweifel lohnt sich also nach der L&ouml;sung eines Problems der erneute Aufruf des Modules. Eine wiederholte Ausf&uuml;hrung des Prozesstarters wird jedoch auf Grund der u.U. langen Laufzeit nicht empfohlen. Das System w&uuml;rde st&auml;rker ausgelastet und die Aussagekraft der Meldungen durch zeitliche &Uuml;berschneidungen beeintr&auml;chtigt.<br /><br />Pr&uuml;fung bei Ausf&uuml;hrungMeldungen wie z.B. die Connectivit&auml;t zu Online-Shops oder APIs, &Uuml;bertragen.Moduls, o.&auml;. werden zum Zeitpunkt des erkennens protokolliert und in der Anzeige vorgehalten bis sie zur&uuml;ckgesetzt werden. Dabei ist es m&ouml;glich, dass zwischenzeitlich bereits erfolgreiche Verbindungen stattgefunden haben, die Meldung ist in diesem Fall veraltet, deutet jedoch immer noch auf eine mind. einmalige fehlerhafte Verbindung hin.<br />&nbsp;<h1>Prozessstarter</h1> F&uuml;r die Funktionalit&auml;t des System Health Moduls ist der Prozessstarter System Health notwendig. Diesen k&ouml;nnen Sie unter Administration &rarr; Einstellungen &rarr; Prozessstarter wiefolgt einstellen:<img src="index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=systemhealth&amp;fileid=6" />F&uuml;r die &Uuml;berpr&uuml;fung doppelter Nummern ist zus&auml;tzlich der Doppelte Nummern pr&uuml;fen notwendig.<h1>Fehlermeldungen und deren Bedeutung</h1> Dieser Eintrag befindet sich derzeit in der &Uuml;berarbeitung - Stand: 10.01.2020<br />&nbsp;<h2>Bereich MHD / Chargen / Seriennummern</h2><h3><br />Chargen-Schiefstand</h3> Beitrag folgt.<h3>MHD-Schiefstand</h3> Beitrag folgt.<h3>Abgelaufene MHD</h3> Beitrag folgt.<h3>Seriennummern</h3> <strong>Ursache</strong>: Es existieren mind. 2 gleiche Artikel mit identischen Seriennummern<br />Bewertung: <span style="color:#e74c3c;">Warnung</span><br /><strong>L&ouml;sung</strong>: Mit Hilfe des moduls Doppelte Nummern k&ouml;nnen Sie die Seriennummerin identifizieren und die Eintr&auml;ge manuell korrigieren.<br />&nbsp;<h2>Bereich Prozessstarter</h2>&nbsp;<h3>Fehler</h3> Beitrag folgt.<h3>Aktivit&auml;t</h3> Hier wird die letzte Ausf&uuml;hrung des System-Prozessstarters protokolliert. Eine regelm&auml;&szlig;ige Ausf&uuml;hrung f&uuml;hrt zu einer regelm&auml;&szlig;igen Aktialisierung des angezeigten Datums und der angezeigten Uhrzeit.<h3>Laufzeit</h3> Hinweis auf die systemseitig konfigurierte maximale Laufzeit der Prozessstarter. Empfohlen werden mind. 30 Sek.Ideal ist eine unbegrenzte Laufzeit.<br />&nbsp;<h3>Speicher</h3> Hinweis auf die systemseitig konfigurierte maximale Speichertnutzung der Prozessstarter. Empfohlen werden mind. 128 MB Ideal sind mind. 512 MB je Prozess.<br />&nbsp;<h3>Speicher&uuml;berlauf</h3> Beitrag folgt.<h2><br />Bereich Datenbank</h2><h3>DB-Version</h3> Beitrag folgt.<h3>DB-Version ab 20.2</h3> Ursache: Ab der Xentral-Version 20.2 werden Funktionen der MySQL-Datenbank in der Version 5.7 oder h&ouml;her ben&ouml;tigt.Bewertung: Warnung bis Fehler (je nach verwendeter Xentral-Version)<br />L&ouml;sung: Bitte sorgen Sie rechtzeitig daf&uuml;r, dass Ihr Systemadministrator oder Hosting-Provider auf die Datenbankversion 5.7 updated. Ein Update auf die Version 8.0 wird derzeit noch nicht empfohlen.<br />&nbsp;<h3>SQL-Fehler</h3> Beitrag folgt.<h3>Datenintegrit&auml;t</h3> <strong>Ursache</strong>: Es existieren &quot;verwaiste&quot; Datenbankeintr&auml;ge, in der Regel handelt es sich dabei um Eintr&auml;ge der &uuml;bergeordneter Bezug (Elternknoten) nicht mehr existiert. Hauptursache daf&uuml;r sind unvollst&auml;ndig oder fehlerhaft manuell gel&ouml;schte Daten, z.B. Testdaten.<br />Bewertung: Warnung<br /><strong>L&ouml;sung</strong>: Klicken Sie bitte zun&auml;chst auf den Meldungstext. Sie kommen zu einer Seite auf der man die Datenbank per Klick auf den Button Testen kann. Im Anschlu&szlig; sehen Sie eine Liste der gefundenen Integrit&auml;tsfehler. Hier k&ouml;nnen einige per Klick in der Spalte Aktion gefixt werden. Alle anderen Fehler k&ouml;nnen durch einen Techniker durch einen Blick auf die Datenbank gepr&uuml;ft werden. Zur L&ouml;sung ist in der Regel ein Techniker notwendig. Ggf. kann Xentral einen Kontakt zu einem unserer IT-Partner herstellen.<br /><br /><strong>Hinweis</strong>: Es wird dringend davon abgeraten direkt auf Datenbankebene in Xentral zu arbeiten. Die Datenintegrit&auml;t kann durch solche Eingriffe gef&auml;hrdet werden. In jedem Fall muss vorab ein Datenbank-Snaphot erstellt werden um ggf. auf einen laufenden vorherigen Zustand des Systems zur&uuml;ckfallen zu k&ouml;nnen.<h2><br />Bereich Stammdaten</h2><h3>Doppelte Artikelnummern, Kundennummern, Lieferantennummern</h3> <strong>Ursache</strong>: Durch manuelle Bearbeitung, eine &Auml;nderung der Nummernkreisdefintion oder von Projekteinstellungen sind verschiedene Datens&auml;tze von Artikeln oder Adressen mit denselben Nummern belegt.<br />Bewertung: Hinweis<br /><strong>L&ouml;sung</strong>: Artikelnummern, Kundennummern und Lieferantennummern k&ouml;nnen durch Eingabe einer neuen Nummer ge&auml;ndert werden. Dazu k&ouml;nnen Sie durch einen Klick auf den Meldungstext in das Modul Doppelte Nummern springen. Dort werden Ihnen die Elemente mit gleichen Nummern angezeigt und k&ouml;nnen von dort aus einfach bearbeitet werden.<br />&nbsp;<h3>Leere Artikelnummern</h3> <strong>Ursache</strong>: Artikel haben keine Artikelnummer<br />Bewertung: Hinweis<br /><strong>L&ouml;sung</strong>: Artikel mit leeren Artikelnummern k&ouml;nnen durch Eingabe einer neuen Artikelnummer erg&auml;nzt werden. Artikel werden in der Regel &uuml;ber ihre technische ID angesprochen, eine Erg&auml;nzung fehlender Artikelnummern ist also m&ouml;glich.<br />&nbsp;<h3>Rechnungsnummern, Gutschriftsnummern</h3> <strong>Ursache</strong>: Mind. 2 Rechnungen oder mind. 2 Gutschriften haben die gleiche Nummer<br />Doppelte Belegnummern bei Rechnungen und Gutschriften sollten in Regel nicht vorkommen. Es kann aber dazu kommen, wenn z.B. der eingestellte globale oder projektspezifische Nummernkreis zur&uuml;cksetzt/ver&auml;ndert wurde oder wenn Belege &uuml;ber den Belege Importer ins System geladen wurden.<br />Bewertung: Warnung<br /><strong>L&ouml;sung</strong>:<ul><li>Bitte versuchen Sie zun&auml;chst auf Basis unseres Helpdeskeintrages des Moduls Doppelte Nummern die Meldung zu bearbeiten.</li><li>Sind die Fehler durch einen Import (z.B. &uuml;ber den Belegimporter) entstanden, spielen Sie ggf. den letzten Datenbank-Snapshot wieder ein. Vor dem n&auml;chsten Import &auml;ndern Sie ggf. die Nummeernkreisdefinitionen oder bearbeiten Sie die Importdaten.</li><li>Sollten Sie &uuml;ber diese Methoden nicht zum Ziel gekommen sein, kontaktieren Sie bitte einen technischen Partner zur Bereinigung der Datenbankeintr&auml;ge.</li></ul><br />Hinweis: Bitte stellen Sie sicher, das die Definition von Nummernkreisen nicht im laufenden Betrieb um gestellt werden. Sollten Projekte eigene Nummernkreise besitzen sollte diese Einstellung dringend beibehalten werden. Bereits mit dem Abschalten des eigenen Nummernkreises in einem Projekt k&ouml;nnen doppelten Nummern &quot;erzeugt&quot; werden da diese nun nicht mehr als projektspezifisch angesehen werden.<br />&nbsp;<h2>Bereich Server</h2>&nbsp;<h3>Speicherplatz</h3> Anzeige des verbleibenden Speicherplatzes.Hinweis: Dieser Wert kann aus technischen Gr&uuml;nden nicht auf allen Systemen (z.B. Shared Hosting) abgefragt werden.<br />&nbsp;<h3>Lizenz</h3> <strong>Ursache</strong>: Zeigt eine evtl. in K&uuml;rze ablaufende Lizenz (bei monatlicher Zahlweise im Mietmodell) bzw. ablaufenden Support (bei Kauflizenzen) an.Bewertung: Warnung (ab 14 Tage vor Ablauf der Lizenz) bis Fehler nach Ablauf der Lizenz<br /><strong>L&ouml;sung</strong>: Bitte kontaktieren Sie unseren Vertrieb zur Kl&auml;rung oder zur Verl&auml;ngerung der Lizenz.<br /><br />Hinweis: Unter Umst&auml;nden kann bei Cloud-Lizenzen nach l&auml;ngerer Inaktivit&auml;t (l&auml;nger 30 Tage) ein Hinweis auf eine abgelaufene Lizenz angezeigt werden. Durch eine erneute Pr&uuml;fung (z.B. durch den pr&uuml;femdem Prozessstarter oder den Aufruf des Moduls System Meldungen kann dieser Hinweis entfernt werden. Sollte sich der Hinweis trotz g&uuml;ltiger Cloud-Lizenz nicht entfernen lassen, kontaktieren Sie bitte unseren Support.<h3>Scriptlauftzeit</h3> Um sicherzustellen, dass auch l&auml;nger andauernde Berechnungen in Prozessstartern korrekt und abschlie&szlig;end ausgef&uuml;hrt werden k&ouml;nnen ist die L&auml;nge der erlaubten Script-Laufzeeit, eine Einstellung der Server-Konfiguration, wichtig.<h3>Upload-Kapazit&auml;t</h3> Um sicherzustellen, dass Dateien und &uuml;bertragene Formulardaten korrrekt auf den Server &uuml;bertragen werden k&ouml;nnen ist die Upload-Kapazit&auml;t, eine Einstellung der Server-Konfiguration, wichtig.<h3>PHP-Version</h3> Bei PHP handelt es sich um eine Serversoftware (genauer: einen Interpreter), die notwendig ist um Xentral ablaufen zu lassen. Da diese Software serverseitig in verschiedenen Versionen vorliegen kann, die unterschiedliche Funktionalit&auml;t bieten ist die korrekte Mindestversion relevant f&uuml;r das Ausf&uuml;hren von Xentral ERP.<h3>Userdata</h3> Meldung: Userdata-Verzeichnis nicht beschreibbar: Dieser kritische Fehler muss dringend durch den Systemadministrator oder Hosting-Provider behoben werden. Dabei muss sichergestellt werden, dass das Verzeichnis userdata und alle Unterverzeichnisse durch den Benutzer beschreibbar ist, der den Webserver undd die Cronjobs (z.B. starterX.php) ausf&uuml;hrt. Ohne eine Behebung dieses Fehler k&ouml;nnen keine Datein gespeichert, keine PDF-Archive angelegt oder Snapshots der Datenbank gesichert werden.Meldung: Userdata-Verzeichnis von aussen einsehbar: Dieser Fehler sollte aus Gr&uuml;nden des Datenschutzes durch den Systemadministrator oder Hosting-Provider behoben werden.<br /><br />Dazu kann<ul><li>entweder in der Webserver-Konfiguration die DocRoot umgesetzt werden (auf das Verzeichnis &quot;&quot;www&quot;&quot;, das in Standardfall parallel zum Verzeichnis userdata liegt), so dass das userdata Verzeichnis nicht mehr &quot;offen&quot; ist.</li><li>Alternativ kann das userdata Verzeichniss auch nach &quot;oberhalb&quot; der Docroot verschoben werden und dann in der Datei userinc.php der Pfad angepasst werden.</li><li>Je nach Webserver (i.d.R. apache oder nginx) kann auch per .htaccess der Zugriffsschutz auf das userdata Verzeichnis entzogen werden.</li></ul>&nbsp;<h2>Bereich Einstellungen</h2><h3>Firmendaten</h3> Sollte es zu Problemen bei der Pr&uuml;fung der hinterlegten Firmendaten kommen wird diese Meldung aktiv. In diesem Fall kontaktieren Sie bitte einen technischen Partner unter Hinweis auf die Meldung.<h3>Briefpapier</h3> Meldung: Die Verwendung von zu gro&szlig;en PDF-Hintergrunddateien oder eines sehr hochaufl&ouml;senden Logos f&uuml;hrt bei hoher Anzahl von Belegen schnell zu einem unn&ouml;tig hohen Speicherplatzbedarf auf Ihrem Server. In diesem Fall sollten Sie dringend ihr verwendeten Vorlagen (Briefpapier-PDF oder Logodatei) verkleinern.L&ouml;sung: Bitte kontaktieren Sie Ihre Grafik-Agentur oder erstellen Sie Ihre Hintergrunddateien unter Ber&uuml;cksichtigung der folgenden Tipps selbst noch einmal neu.<ul><li>keine vollformatigen Scans sondern nur Fl&auml;chen hinterlegen, die notwendig sind (z.B. Kopf und Fussbereich)</li><li>Verwendung von Vektordaten f&uuml;r Logos und andere grafische Elemente</li><li>Texte immer als Schrift setzen, nicht als Bild</li><li>PDF-Datei nicht rastern und platzsparend abspeichern</li></ul><br />Eine gute Dateigr&ouml;&szlig;e f&uuml;r hinterlegte Briefpapier-PDF-Dateien ist 50 kB.<h2><br />Bereich Onlineshops</h2><h3>Authentifizierung</h3> Meldungen erscheinen bei Fehlern in der Verbindung zu Online-Shops.<h1>Bekannte Probleme / Known Issues</h1> Das Modul System Health befindet sich derzeit im Beta-Stadium. Daher k&ouml;nnen vereinzelt sog. Falsch-Positive Meldungen auftreten, d.h. es werden Fehler angezeigt die nicht existieren. Au&szlig;erdem werden Fehler angezeigt, die bereits seit l&auml;ngerem im System vorliegen (wie z.B. Inkonsistente Daten).<br /><br />Wir bitten Sie diese Fehler gerne an uns zu melden, damit der Sache auf den Grund gehen k&ouml;nnen. Bitte gleichen SIe vorab Ihren Fehler mit der folgenden Liste ab um Mehrfachmeldungen zu vermeiden.<h2><br />Liste Bekannter Probleme</h2> (Stand 20.02.2020)<ul><li>VAT-Meldung: Link defekt</li><li>Meldung Dateninkonsistenz: arbeitspaket.projekt &gt; projekt.id</li><li>Meldung &quot;Doppelte Kundennummern&quot; wird angezeigt, Modul Doppelte Nummern zeigt keine Fehler</li><li>Meldung &quot;Doppelte Lieferantennummern&quot; wird angezeigt, Link verweist auf Modul Doppelte Nummern / Doppelte Kundennummern und zeigt keine Fehler</li><li>Meldung Dateninkonsistenz: documente_send.adresse &gt; adresse.id</li><li>Meldung Dateninkonsistenz: produktion_protokoll.produktion &gt; produktion.id</li><li>Meldung Dateninkonsistenz: datei_version.datei &gt; datei.id und datei_stichwoerter.datei &gt; datei.id</li><li>Meldung Dateninkonsistenz: pdfarchiv.table_id &gt; rechnung.id, pdfarchiv.table_id &gt; auftrag.id, pdfarchiv.table_id &gt; bestellung.id, pdfarchiv.table_id &gt; angebot.id</li><li>Meldung Dateninkonsistenz: verkaufspreise.artikel &gt; artikel.id</li><li>Meldung Dateninkonsistenz: einkaufspreise.artikel &gt; artikel.id und verkaufspreise.artikel &gt; artikel.id</li><li>Meldung Dateninkonsistenz: pdfarchiv.table_id &gt; lieferschein.id und beleg_chargesnmhd.doctypeid &gt; lieferschein.id</li><li>Warnmeldung bzgl. Doppelter Nummern verh&auml;lt sich umgekehrt zu Administration =&gt; Einstellungen =&gt; Grundeinstellungen =&gt; Doppelte Seriennummern</li><li>Meldung Doppelte Seriennummern: Link zum Serinnummernmodul funktioniert nicht</li></ul><br /><br />&nbsp;