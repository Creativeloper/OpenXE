<h1>Netstock Anbindung</h1><strong>Administration</strong> &rarr; <strong>Appstore</strong> &rarr; <strong>Netstock </strong><br /><br />Die Netstock App erzeugt CSV-Dateien, die f&uuml;r die &Uuml;bertragung von relevanten Informationen an Netstock dienen. Diese k&ouml;nnen dann entweder per FTP &uuml;bertragen oder von einem definiertem Ordner auf dem Server abgeholt werden.Der zugeh&ouml;rige Prozessstarter netstock muss aktiviert werden um die unten beschriebenen Dateien zu erzeugen und zu &uuml;bertragen.<h2>Einstellungen / Konfiguration</h2><br /><img src="index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=netstock&amp;fileid=1" /><br />&nbsp;<h2>Bereiche zur Konfiguration</h2><h3>1. FTP-Settings</h3>Speicherung der Ausgangs-Dateien &uuml;ber eine FTP-Verbindung.<ul><li><strong>FTP-Server</strong> &rarr; Hostname des Servers</li><li><strong>FTP-Benutzer</strong> &rarr; Benutzername</li><li><strong>FTP-Passwort</strong> &rarr; Passwort</li></ul><h3>2. Lokale Dateien</h3>Speicherung der Ausgangs-Dateien in einem Ordner auf dem Server im Userdata-Verzeichnis.<ul><li><strong>Name des Ordners</strong> &rarr; Sstemverzeichnis des Austauschordners f&uuml;r Dateien</li></ul><h3>3. Lagereinstellungen</h3><ul><li><strong>Lager f&uuml;r Intern (Beistellungen)</strong> &rarr; Internes Lager f&uuml;r Beistellungen</li><li><strong>Lager f&uuml;r Extern</strong> &rarr; Externes Lager</li></ul><h3>4. Freifelder</h3><ul><li><strong>Freifeld f&uuml;r Warengruppe</strong> &rarr; Nicht vewendet (Defaultwert: freifeld5)</li><li><strong>Freifeld f&uuml;r den Bestandsindikator (stock.csv)</strong> &rarr; Zu verwendendes Freifeld f&uuml;r &quot;Stocking Indicator&quot; - Defaultwert: freifeld6.<br /><span style="color:#e74c3c;"><strong>Hinweis</strong></span>: Das Freifeld 6 Feld wird verwendet wenn keine Alternative eingetragen wurde!</li></ul><h3>5. Informationen</h3>Hier erhalten Sie einen &Uuml;berblick &uuml;ber die erzeugten Dateien:Die Anwendung erzeugt csv-Dateien f&uuml;r: Lager/Filialen (location.csv), Lieferanten (supplier.csv), Artikelstamm (master.csv), Bestand je Lagerort (stock.csv), Verkauf &amp; Verbrauch (sales.csv), Offene Lieferanten oder Produktionsbestellungen (po.csv) Diese werden entweder per FTP &uuml;bertragen oder in einen Ablageordner auf dem Server hinterlegt.Die Dateien sind im Folgenden detailliert beschrieben.<h3>6. Monitor</h3>Im Monitor werden die letzten FTP-&Uuml;bertragungen sichtbar. Hier k&ouml;nnen fehlerhafte Verbindungsversuche (z.B. durch &Auml;nderung von FTP-Zugangsdaten) erkannt werden.<h2>Netstock Dateitypen</h2>Folgende Dateitypen finden in Xentral Anwendung:<ul><li><strong>control.csv</strong> &rarr; Informationen &uuml;ber die Datenextraktionen</li><li><strong>master.csv</strong> &rarr; Artikelinformationen (Stammdaten)</li><li><strong>group.csv</strong> &rarr; Artikelkategorien (Stammdaten)</li><li><strong>bom.csv</strong> &rarr; St&uuml;cklisten (Stammdaten)</li><li><strong>supplier.csv</strong> &rarr; Aktive Lieferanten</li><li><strong>location.csv</strong> &rarr; physische Lagerorte (Lager und Filialen)</li><li><strong>stock.csv</strong> &rarr; Bestand je Lagerort</li><li><strong>sales.csv</strong> &rarr; Rechnungen und Gutschriften jeweils ab dem 1. Tag des Vormonats</li><li><strong>co.csv</strong> &rarr; Offene Auftr&auml;ge</li><li><strong>po.csv</strong> &rarr; Offene Bestellungen und Produktionen</li><li><strong>pohist.csv</strong> &rarr; Erf&uuml;llte Bestellungen und Produktionen</li></ul><h3>Datei: control.csv</h3>&Uuml;bersicht &uuml;ber die Grundeinstellungen der Netstock-Schnittstelle.<br />Die Datei umfasst immer nur die folgenden vier Zeilen.<br /><br />Beispielinhalt f&uuml;r die CSV Datei:<table border="1" cellpadding="1" cellspacing="1" style="width: 300px;"><thead>
<tr><th scope="col"><strong>Key</strong></th><th scope="col"><strong>Value</strong></th>
</tr>
</thead><tbody>
<tr><td>INTERFACE_VERSION</td><td>2.0.8</td>
</tr>
<tr><td>EXTRACTION_DATE</td><td>2019/07/17</td>
</tr>
<tr><td>EXTRACTION_TIME</td><td>12:00:36</td>
</tr>
<tr><td>HOST_SYSTEM_VERSION</td><td>19.3</td>
</tr>
</tbody></table>&nbsp;<h3>Datei: master.csv</h3>&Uuml;bersicht &uuml;ber alle Artikel.<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Item Code</strong> &rarr; Artikelnummer</li><li><strong>Beschreibung</strong> &rarr; Artikelname</li><li><strong>NETSTOCK Unit of Measure</strong> &rarr; Artikeleinheit</li><li><strong>Unit Volume</strong> &rarr; immer leer</li><li><strong>Unit Weight</strong> &rarr; Artikelgewicht</li><li><strong>Superseded Item Code</strong> &rarr; immer leer</li><li><strong>Superseded Item Factor</strong> &rarr; immer leer</li><li><strong>Not used</strong> &rarr; Artikelfeld &#39;gesperrt&#39;</li><li><strong>Unique Identifier</strong> &rarr; Interne ID des Artikels, sichtbar in der URL</li></ul><h3>Datei: group.csv</h3>Umfasst derzeit die Artikelkategorien.<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Identifier</strong> &rarr; Interne ID</li><li><strong>Value</strong> &rarr; (Numerischer) Wert</li><li><strong>Beschreibung &rarr; Name der Gruppe</strong></li></ul><h3>Datei: bom.csv</h3>&Uuml;bersicht &uuml;ber die St&uuml;cklisten.<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Finished Good Item</strong> &rarr; Artikelnummer</li><li><strong>Finished Good Item Location</strong> &rarr; Lager-ID</li><li><strong>Raw Material Item</strong> &rarr; Artikelnummer</li><li><strong>Raw Material Location</strong> &rarr; Lager-ID</li><li><strong>Ratio</strong> &rarr; Menge des Ausgangsartikels in der St&uuml;ckliste</li></ul><h3>Datei: supplier.csv</h3>&Uuml;bersicht &uuml;ber die Lieferanten.<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Supplier</strong> &rarr; Lieferantennummer</li><li><strong>Beschreibung</strong> &rarr; Name des Lieferanten</li><li><strong>Type</strong> &rarr; immer leer</li><li><strong>Lead time</strong> &rarr; Durchnittslieferzeit aus den Einkaufspreisen</li></ul><h3>Datei: location.csv</h3>Physische Bestandsorte / Filialen (nicht Lagerpositionen).<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Location Code</strong> &rarr; Interne Id des Lagers</li><li><strong>Beschreibung</strong> &rarr; Bezeichnung des Lagers</li><li><strong>Active</strong> &rarr; immer 1</li><li><strong>Group</strong> &rarr; immer leer</li><li><strong>Type</strong> &rarr; &#39;ST&#39; (Laden/Filiale) oder &#39;CW&#39; (Zentrallager, Projekt-ID = 1) abh&auml;ngig vom Projekt</li></ul><h3>Datei: stock.csv</h3>Der jetzige Bestand je Lagerort.<br />Es werden alle Lagerpl&auml;tze ber&uuml;cksichtigt, die zum konfigurierten &#39;Lager f&uuml;r Intern (Beistellungen)&#39; geh&ouml;ren und solche die als Produktionslager gekennzeichnet sind.<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Item Code</strong> &rarr; Artikelnummer</li><li><strong>Location</strong> &rarr; Meistens Hauptlager, Konfiguriernbar in der Netstock App</li><li><strong>Date Added</strong> &rarr; leer</li><li><strong>Inventory Unit Cost</strong> &rarr; berechneter Einkaufspreis &rarr; wenn fehlt, dann &quot;0&quot;</li><li><strong>Purchase Unit Cost</strong> &rarr; Standard Einkaufspreis 1er Menge, wenn fehlt dann &quot;0&quot;</li><li><strong>Selling Price</strong> &rarr; Verkaufspreis f&uuml;r Menge 1, wird erst in zweiten Schritt erzeugt; Fallback? &rarr; schaut komisch aus &rarr; aber kommt der richtig im Schritt 2?</li><li><strong>Stock On Hand</strong> &rarr; Lagerbestand</li><li><strong>Allocated Stock</strong> &rarr; immer 0</li><li><strong>Supply Type</strong> &rarr; Konstanter Wert &#39;EX&#39;</li><li><strong>Supply Code</strong> &rarr; Lieferantennummer, Standartlieferant kommt entweder aus EK Fallback Artikel</li><li><strong>Vendor Code</strong> &rarr; Lieferantennummer, Standartlieferant kommt entweder aus EK Fallback Artikel</li><li><strong>Purchase Unit of Measure</strong> &rarr; Artikel Einheit</li><li><strong>Purchase Factor</strong> &rarr; bleibt leer</li><li><strong>Purchase Currency Code</strong> &rarr; derzeit immer Euro; ggf. W&auml;rung aus kalk. Ek nehmen (PASST, ist IMMER EUR)</li><li><strong>Lead Time</strong> &rarr; Standard Lieferzeit aus EK in Tagen, Fallback: wenn nicht angegeben, dann &quot;0&quot;</li><li><strong>Stocking Indicator</strong> &rarr; Ist ein konfigurierbares (Frei-)Feld in der Netstock App</li><li><strong>Minimum Stock</strong> &rarr; Artikel Mindestlager &rarr; wenn leer dann 0</li><li><strong>Minimum Order Qty</strong> &rarr; Artikel Mindestbestellmwnge &rarr; wenn leer dann 0</li><li><strong>Order Multiple</strong> &rarr; Artikel Mindestbestellmwnge &rarr; wenn leer dann 0</li><li><strong>Group 1</strong> &rarr; Artikelkategorie</li></ul><h3>Datei: sales.csv</h3>Verbrauch- und Verkaufs-Historie.<br />Eingeschr&auml;nkt auf alle Eintr&auml;ge ab dem Ersten des Vormonats. Beispiel: Aktuelles Datum 15.07. - angezeigt werden Daten ab dem 01.06.<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Item Code</strong> &rarr; RE/GS-Position Artikelnummer</li><li><strong>Location</strong> &rarr; &Uuml;bernommen aus den Modul-Einstellungen (Lager f&uuml;r Intern (Beistellungen))</li><li><strong>Customer Code</strong> &rarr; Kundenummer von RE/GS; Fallback adresse.kundenummer</li><li><strong>Order Date</strong> &rarr; Auftrag Datum; (Auftrag in Gutschrift &uuml;ber die Rechnung gejoint);Fallback RE/GS-Datum</li><li><strong>Invoice/Issue Date</strong> &rarr; RE/GS-Datum</li><li><strong>Sales Quantity</strong> &rarr; RE/GS-Position Menge</li><li><strong>Cost of Sales</strong> &rarr; RE/GS-Position Menge * RE/GS-Position Einkaufspreis</li><li><strong>Sales Value</strong> &rarr; RE/GS-Position.umsatz_netto_gesamt; Fallback Preis Menge und Rabatt der Position</li><li><strong>Issues Quantity</strong> &rarr; immer leer</li><li><strong>Transaction Type</strong> &rarr; &#39;S&#39; f&uuml;r Rechnung, &#39;R&#39; f&uuml;r Gutschrift</li></ul><h3>Datei: co.csv</h3>Offene Kundenbestellungen.<br />Enth&auml;lt alle Lagerartikel oder Artikel die keine Lagerartikel sind aber Kopf-Artikel von &#39;Just in Time&#39;-St&uuml;cklisten.Unterelemente von &#39;Just in Time&#39;-Artikeln werden ausgeschlossen.<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Item Code</strong> &rarr; Artikelnummer</li><li><strong>Location</strong> &rarr; &Uuml;bernommen aus den Modul-Einstellungen (Lager f&uuml;r Intern (Beistellungen))</li><li><strong>Customer Code</strong> &rarr; Kundennummer aus AU; Fallback Kundennummer aus Adresse (&uuml;ber Adresse aus AU)</li><li><strong>Order Number</strong> &rarr; AU Belegnummer</li><li><strong>Line Number</strong> &rarr; Sortierung aus Position</li><li><strong>Order Date</strong> &rarr; AU-Datum</li><li><strong>Order Quantity</strong> &rarr; AU-Position Menge</li><li><strong>Requested Date</strong> &rarr; Lieferdatum aus Position; Fallback Liefersdatum aus AU; Fallback Datum aus AU</li><li><strong>Outstanding Quantity</strong> &rarr; AU-Position Menge - AU-Position Geliefert</li></ul><h3>Datei: po.csv</h3>Enth&auml;lt alle Positionen aller Produktionen deren Belegstatus nicht abgeschlossen, nicht storniert und nicht angelegt ist. Zus&auml;tzlich alle Bestellpositionen die nicht geliefert sind und deren Belegstatus nicht angelegt, nicht abgeschlossen und nicht storniert ist.<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Item Code</strong> &rarr; Artikelnummer</li><li><strong>Location</strong> &rarr; &Uuml;bernommen aus den Modul-Einstellungen (Lager f&uuml;r Intern (Beistellungen))</li><li><strong>Supplier Code</strong> &rarr; Lieferantennummer (bei Bestellungen: Lieferant der Bestellung, bei Produktionen: Standardlieferant des Artikels)</li><li><strong>Order Number</strong> &rarr; BE/PROD-Belegnummer</li><li><strong>Line Number</strong> &rarr; Sortierung aus Position</li><li><strong>Order Date</strong> &rarr; BE/PROD-Datum</li><li><strong>Order Quantity</strong> &rarr; Menge aus Position</li><li><strong>Expected Arrival Date</strong> &rarr; BE/PROD-Datum + Artikel-Lieferzeit</li><li><strong>Outstanding Quantity</strong> &rarr; BE/PROD-Menge aus Position - BE/PROD-Geliefert aus Position</li><li><strong>Order Type</strong> &rarr; &#39;P&#39; f&uuml;r Bestellung, &#39;M&#39; f&uuml;r Produktion</li><li><strong>Purchase Unit Cost</strong> &rarr; Wenn der Artikel ein Produktionsartikel ist dann Preis aus Position, ansonsten Kalkulierter EK</li></ul><h3>Datei: pohist.csv</h3>Enth&auml;lt alle Positionen aller Produktionen deren Belegstatus abgeschlossen ist.<br />Und alle Bestellungspositionen die geliefert wurden aber auch alle Positonen die nicht geliefert wurden und deren Belegstatus abgeschlossen ist.<br /><br />Spalten der CSV-Datei und Beschreibung:<ul><li><strong>Item Code</strong> &rarr; Artikelnummer</li><li><strong>Location</strong> &rarr; &Uuml;bernommen aus den Modul-Einstellungen (Lager f&uuml;r Intern (Beistellungen))</li><li><strong>Supplier Code</strong> &rarr; Lieferantennummer (gemappt &uuml;ber Lieferant aus BE oder PROD)</li><li><strong>Order Number</strong> &rarr; BE/PROD-Belegnummer</li><li><strong>Line Number</strong> &rarr; Sortierung aus Position</li><li><strong>Order Date</strong> &rarr; BE/PROD-Datum</li><li><strong>Order Quantity</strong> &rarr; Menge aus Position</li><li><strong>Expected Arrival Date</strong> &rarr; BE/PROD-Datum + Artikel-Lieferzeit</li><li><strong>Order Urgency</strong> &rarr; Dderzeit immer leer; Definiert als entweder ST = Standardbestellung oder EM = Expressbestellung (Bestellung mit deutlich geringerer Lieferzeit)</li><li><strong>Quantity Received</strong> &rarr; Das Feld &#39;Geliefert&#39; aus BE/PROD-Position</li><li><strong>Date of Receipt</strong> &rarr; BE/PROD-Lieferdatum</li><li><strong>Purchase Unit Cost</strong> &rarr; Kalkulierter EK des Artikels</li></ul>