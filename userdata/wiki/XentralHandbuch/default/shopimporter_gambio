<span style="font-size:28px;"><strong>Gambio Schnittstelle - Installation &amp; Einrichtung</strong></span><br /><br /><span class="wiki-text">Mit dieser Schnittstelle k&ouml;nnen Sie Xentral mit <span class="highlight" rel="Shopify">Gambio </span>verbinden, um Bestellungen von dort in Xentral zu importieren und Ihre im Shop verkauften Artikel in Xentral zu verwalten. Die Anbindung geschieht &uuml;ber eine API-Schnittstelle (Shopimporter). </span><br /><br />&nbsp;<div class="video-box youtube-video"><span class="wiki-text"><iframe allowfullscreen="" frameborder="0" src="https://www.youtube.com/embed/49PICIq3XP8"></iframe><br />&nbsp;</span><h1><span class="wiki-text">Features der Schnittstelle</span></h1><ul><li><span class="wiki-text">Auftr&auml;ge aus Gambio abholen</span></li><li><span class="wiki-text">Auftragsstatus bei Versand in Gambio umstellen inkl. Meldung Trackingnummer</span></li><li><span class="wiki-text">Artikel einzeln von Xentral nach Gambio oder von Gambio nach Xentral &uuml;bertragen</span></li><li><span class="wiki-text">Artikelkategorien sowie Artikeleigenschaften von Xentral nach Gambio &uuml;bertragen</span></li><li><span class="wiki-text">Lagerzahlen sowie Pseudolagerzahlen zu Gambio &uuml;bertragen</span><br />&nbsp;</li></ul><h1><span class="wiki-text">Installation der Schnittstelle</span></h1><h2><span class="wiki-text">Neuen Shop anlegen</span></h2><span class="wiki-text">Unter Administration &rarr; Online-Shops &rarr; NEU k&ouml;nnen Sie den Gambio Shop ausw&auml;hlen.<br /><br />&nbsp;<span class="wiki-text"><img data-mfp-src="/images/wiki-import/entwickler/gambio_importer_installieren.png" src="https://xentral.com/images/wiki-import/entwickler/gambio_importer_installieren.png" style="cursor: pointer;" /></span></span><h2><br /><span class="wiki-text">Schnittstellen-Daten eintragen</span></h2><span class="wiki-text">Unter Details &rarr; Schnittstelle k&ouml;nnen Sie danach die entsprechenden Daten aus dem Gambio-Backend hinterlegen:<br /><br />&nbsp;<span class="wiki-text"><img data-mfp-src="/images/wiki-import/entwickler/gambio_importer_details_schnittstelle.png" src="https://xentral.com/images/wiki-import/entwickler/gambio_importer_details_schnittstelle.png" style="cursor: pointer;" /></span></span><h5 id="einstellungen-f-r-shop-oder-marktplatz"><span class="wiki-text">&nbsp;</span></h5><h3><span style="font-size:16px;"><strong><span class="wiki-text">Einstellungen f&uuml;r Shop oder Marktplatz</span></strong></span></h3><ul><li><span class="wiki-text"><strong>Protokollierung im Logfile:</strong> Legt beim Arbeiten mit der Shop-Schnittstelle Daten zur Fehlersuche in einem Log ab.</span></li><li><span class="wiki-text"><strong>Benutzer</strong>: Hier muss der Nutzer eingetragen werden, der Zugriff auf die API hat. Meistens ein Administrator</span></li><li><span class="wiki-text"><strong>Passwort</strong>: Hier muss das entsprechende Passwort f&uuml;r den API Nutzer eingetragen werden</span></li><li><span class="wiki-text"><strong>API Url:</strong> <a href="https://ihreshopurl/api.php/v2">https://ihreshopurl/api.php/v2</a> (Bitte achten Sie auf http oder https)</span></li><li><span class="wiki-text"><strong>Artikel in passende Kategorie verschieben:</strong> Relevant f&uuml;r Artikelexport Xentral &rarr; Shop. Wenn nicht gesetzt wird eine Sammelkategorie in Gambio verwendet.</span></li><li><span class="wiki-text"><strong>ID Steuerklasse Normal:</strong> Steuerklassen gem&auml;&szlig; Gambio Einstellung</span></li><li><span class="wiki-text"><strong>ID Steuerklasse Erm&auml;&szlig;igt:</strong> Steuerklassen gem&auml;&szlig; Gambio Einstellung</span></li><li><span class="wiki-text"><strong>ID Steuerklasse Befreit:</strong> Steuerklassen gem&auml;&szlig; Gambio Einstellung</span></li><li><span class="wiki-text"><strong>Statusname Bestellung offen: </strong>Der Name des Status im Shop, um offene Bestellungen darzustellen.</span></li><li><span class="wiki-text"><strong>ID Bestellung in Bearbeitung: </strong>Hier ist die ID einzutragen, auf welche Gambio die Bestellung in den Status &bdquo;in Bearbeitung&ldquo; setzt</span></li><li><span class="wiki-text"><strong>ID Bestellung abgeschlossen:</strong> Hier ist die ID einzutragen, auf welche Gambio die Bestellung in den Status &bdquo;abgeschlossen&ldquo; setzt</span></li></ul><span class="wiki-text">&nbsp;</span><h2><strong><span style="font-size:16px;"><span class="wiki-text">Verbindung pr&uuml;fen</span></span></strong></h2><span class="wiki-text">Bitte beachten Sie, dass die Verbindung nicht klappt, wenn der Shop sich im Wartungsmodus befindet.<br />&nbsp;</span><h1><span class="wiki-text">Auftr&auml;ge zu Xentral &uuml;bertragen</span></h1><span class="wiki-text">Der Import von Auftr&auml;gen aus dem Shop zu Xentral ist <a href="https://xentral.com/helpdesk/kurzanleitung-import-von-bestellungen-aus-online-shops">in diesem Artikel</a> beschrieben.<br />&nbsp;</span><h1><span class="wiki-text">Artikel zu Gambio exportieren</span></h1><p><span class="wiki-text">Folgende Informationen eines Artikels k&ouml;nnen zu Gambio &uuml;bertragen werden:</span></p><ul><li><strong>Wesentliche Merkmale </strong>&rarr; Im Artikel in Xentral kann ein Freifeld angelegt werden, dessen Inhalt in das Feld &quot;Wesentliche Merkmale&quot; (checkoutinformation) von Gambio &uuml;bertragene wird (Anleitung unten).</li><li><strong>Hersteller</strong> &rarr; Hersteller des Artikels. Wird im Shop neu angelegt, wenn im Artikel angegeben, aber im Shop noch nicht vorhanden.</li><li><strong>Herstellerlink</strong> &rarr; Herstellerlink des Artikels. F&uuml;r deutsch und englisch wird hier der selbe Link &uuml;bertragen.</li><li><strong>Artikelbild alternative Beschreibung</strong> &rarr; Kommt aus der Bildbeschreibung in Xentral. F&uuml;r deutsch und englisch wird hier der selbe Text &uuml;bertragen.<br />&nbsp;</li></ul><h2>Wesentliche Merkmale &uuml;bertragen</h2>Gambio verlangt unter Umst&auml;nden, dass jeder Artikel Informationen im Feld <strong>&quot;Wesentliche Merkmale&quot;</strong> besitzt. Um dieses Feld durch den Artikelexport von Xentral zu Gambio zu f&uuml;llen, k&ouml;nnen Sie ein Freifeld im Artikel anlegen und dieses im Freifeldermapping der Shop-Schnittstelle auf das Feld <strong>checkoutinformation</strong> mappen.<br /><br />1. Im Artikel ein Freifeld anlegen und es mit den Infos bef&uuml;llen, die sp&auml;ter in den &quot;Wesentlichen Merkmalen&quot; im Gambio stehen sollen. Soll im englischen Shop ein anderer Text gezeigt werden, legen Sie auch eine englische &Uuml;bersetzung des Freifeldes an.<br /><br /><img alt="" src="./index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=shopimporter_gambio&amp;fileid=3550" style="width: 1200px; height: 200px;" /><br /><br /><br /><br /><br />2. Das Freifeld in der Shopschnittstelle wiefolgt unter &quot;Freifelder&quot; auf das Feld <strong>&quot;checkoutinformation&quot; </strong>von Gambio mappen:<br /><br /><img alt="" src="./index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=shopimporter_gambio&amp;fileid=3548" style="width: 1200px; height: 263px;" /><br /><br /><br />3. In Gambio erscheint nun der Inhalt des Freifeldes unter &quot;Wesentliche Merkmale&quot; des Artikels:<br /><br /><img alt="" src="./index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=shopimporter_gambio&amp;fileid=3549" style="width: 800px; height: 375px;" /><p><br />&nbsp;</p><h2><span class="wiki-text">Export von Artikel-Eigenschaften</span></h2><span class="wiki-text">In Xentral lassen sich Artikeleigenschaften an Gambio &uuml;bertragen, dazu ben&ouml;tigt Xentral die Datenbankzugangsdaten des Gambio-Shops, da die Gambio-API die Funktion nicht unterst&uuml;tzt.<br /><br />Der Datenbankpfad muss ohne http: und ohne Port angegeben werden.<br />&nbsp;<span class="wiki-text"><img data-mfp-src="/images/wiki-import/entwickler/gambio_datenbankzugang.png?" src="https://xentral.com/images/wiki-import/entwickler/gambio_datenbankzugang.png?" style="cursor: pointer;" /></span><br />&nbsp;</span><br />&nbsp;<h1><span class="wiki-text">Datenbank-Verbindung zu Gambio herstellen (f&uuml;r Techniker)</span></h1><span class="wiki-text">F&uuml;r einige Features der Gambio-Schnittstelle wird eine direkte Anbindung an die Datenbank des Shops ben&ouml;tigt, da die REST-API von Gambio diese Funktionen nicht bereitstellt.<br /><br />F&uuml;r folgende Funktionen wird eine Datenbankverbindung ben&ouml;tigt:</span><ul><li><span class="wiki-text">Artikelexport: Eigenschaften&uuml;bertragung</span></li><li><span class="wiki-text">Artikelexport: Variantenartikel in korrekter Variantenstruktur &uuml;bertragen</span></li><li><span class="wiki-text">Auftragsimport: Artikelnummer bei Varianten</span></li><li><span class="wiki-text">Auftragsimport: Customizer Data bei Artikeln</span></li><li><span class="wiki-text">Auftragsimport: Transaktionsnummer</span></li></ul><span class="wiki-text">Um Ihre Shopdatenbank mit Xentral zu verbinden kann auf zwei Arten vorgegangen werden:</span><p><span class="wiki-text"><span style="font-size:16px;"><strong>1. Datenbank nach au&szlig;en &ouml;ffnen</strong></span></span></p>Die Datenbank des Gambio-Shops kann f&uuml;r den Au&szlig;enzugriff ge&ouml;ffnet werden. Sollte die Datenbank des Shops von au&szlig;en erreichbar sein, bzw. sich im selben Netz befinden wie Xentral, kann der Datenbankzugriff &uuml;ber Boardmittel realisiert werden. Dazu ist es ausreichend die Felder f&uuml;r den Datenbankzugriff entsprechend zu pflegen.<p><strong><span style="font-size:16px;"><span class="wiki-text">2. Veschl&uuml;sselter Zugriff auf die Datenbank &uuml;ber ODBC</span></span></strong></p><span class="wiki-text">Falls die Shopdatenbank nicht direkt vom Xentral-System aus erreichbar ist, oder ein &Ouml;ffnen der Datenbank nach au&szlig;en nicht gewollt oder m&ouml;glich ist, kann stattdessen eine Verbindung &uuml;ber einen ODBC-Connector hergestellt werden.<br />Hierf&uuml;r muss neben den Datenbankzugriffsdaten noch der Pfad zum ODBC-Connector eingetragen werden, der verwendet werden soll.<br /><br /><span class="wiki-text">&nbsp;</span><span class="wiki-text"><img data-mfp-src="/images/wiki-import/entwickler/gambio_datenbank_verbindung_felder.png" src="https://xentral.com/images/wiki-import/entwickler/gambio_datenbank_verbindung_felder.png" style="cursor: pointer;" /></span><br /><br />Wenn die Daten eingetragen und gespeichert wurden kann durch einen Klick auf &quot;Verbindung pr&uuml;fen&quot; sichergestellt werden, dass die Datenbankverbindung korrekt hergestellt werden kann.<br /><br />Falls ihr System auf der Xentral Cloud installiert ist, reicht zur Verwendung des ODBC-Connectors aus die Checkbox &quot;Verbindung &uuml;ber ODBC herstellen&quot; zu aktivieren. Auf der Cloud ist bei allen Installation der Connector bereits hinterlegt.<br /><br />Ist die Xentral-Installation nicht auf der Cloud gehostet, muss der ODBC-Connector gegebenenfalls manuell installiert werden. Zus&auml;tzlich muss daf&uuml;r auch der lokale Pfad zum Treiber in den Importereinstellungen hinterlegt werden.<br />Hier finden Sie eine Anleitung f&uuml;r ein exemplarisches Vorgehen: <a href="https://putokaz.wordpress.com/2018/02/12/how-to-install-the-mysql-odbc-driver-on-ubuntu-16-04-or-linux-mint-18-x/">https://putokaz.wordpress.com/2018/02/12/how-to-install-the-mysql-odbc-driver-on-ubuntu-16-04-or-linux-mint-18-x/</a><br /><br />Nachdem die Einstellungen gespeichert wurden, kann mit einem Klick auf &quot;Verbindung pr&uuml;fen&quot; &uuml;berpr&uuml;ft werden, ob der Connector funktioniert. Etwaige Fehlermeldungen vom Connector werden durch den Importer direkt weitergereicht.<br />&nbsp;</span><h1><span class="wiki-text">Technische Dokumentation</span></h1><h2><span class="wiki-text">Status der Auftr&auml;ge</span></h2><span class="wiki-text">&Uuml;ber die API werden alle Auftr&auml;ge abgeholt mit Order Status &quot;1&quot; (Im Standard ist das &quot;offen&quot; / Stand 12/2016). Die Tabelle f&uuml;r die Status in Gambio findet sich hier: <strong>orders_status</strong></span><br />&nbsp;<h2><span class="wiki-text">Import von PayPal-Zahlungen</span></h2><p><span class="wiki-text">Werden aus dem Gambio-Shop Auftr&auml;ge mit der Zahlungsweise PayPal importiert, gilt Folgendes zu beachten:</span></p>Beim Import eines Shop-Auftrags wird folgende Transaktionsnummer mit &uuml;bergeben (abh&auml;ngig von der Einstellung des Shops kann eine der beiden Nummerntypen in das Feld <strong>&quot;Transaktion&quot;</strong> zu Xentral &uuml;bernommen werden):<ul><li><strong>PayPal</strong>: Transaktionsnummer (<strong>Transaktions-ID</strong>) -&gt; Normales PayPal Konto ohne PayPalPlus -&gt; es wird die regul&auml;re Transaktionsnummer &uuml;bergeben, diese wird dann zum Kontoauszug gemapped (im Kontoauszug befindet sich ebenfalls die Transaktionsnummer)</li><li><a href="https://xentral.com/helpdesk/kurzanleitung-paypalplus?"><strong>PayPal Plus</strong></a>: <strong>PAYID</strong> &rarr; PayPalPlus Konto &rarr; Es wird meist die PAYID (anstelle der regul&auml;ren Transaktionsnummer) &uuml;bergeben, diese wird dann zum Kontoauszug gemapped. Im Kontoauszug befindet sich die Transaktionsnummer, Xentral holt parallel die PAYID &uuml;ber die Bankanbindung mit ab, sodass diese Nummer ein erfolgreiches Zahlungsmapping gew&auml;hrleistet).</li></ul><span class="wiki-text">&nbsp;</span><h1><span class="wiki-text">Troubleshooting</span></h1><span class="wiki-text">Wenn Xentral meldet, dass keine Auftr&auml;ge im Shop vorhanden sind, obwohl welche vorhanden sein m&uuml;ssten, k&ouml;nnen Sie folgenden Punkte pr&uuml;fen:<br /><br /><strong>1. Anmeldedaten fehlerhaft</strong><br /><br />Der Importer meldet nicht zur&uuml;ck dass die Anmeldedaten fehlerhaft sind. Wenn eine Anmeldung im Gambioshop als Admin m&ouml;glich ist, ist davon auszugehen dass die Daten korrekt sind.<br /><br /><strong>2. Fehlender logfiles Ordner</strong><br /><br />Bei der Installation von Gambio wurde aus irgendeinem Grund kein logfiles Ordner angelegt. Dieser kann nachtr&auml;glich, am Besten mit allen Rechten per FTP angelegt werden. Da Gambio bei der Anmeldung &uuml;ber die API versucht in die Logdatei in diesem Ordner zu schreiben kommt es zu einem Fehler der die Anmeldung scheitern l&auml;sst. Die Antwort XML enth&auml;lt in diesem Fall keine SessionID und den Wortlaut:...ErrorException&#39; with message &#39;file_put_contents(/var/www/vhosts/webshop.com/httpdocs/logfiles/xml.log): failed to open stream: No such file or directory&#39; in /var/www/vhosts/webshop.com/httpdocs/system/classes/gambio_xml/...<br />&nbsp;&nbsp;</span></div>