<p><span style="font-size:28px;"><strong>System Meldungen (System Health)</strong></span></p>&nbsp;<p>Im Modul System Meldungen ist&nbsp;ein&nbsp;&Uuml;berlick &uuml;ber den &quot;Gesundheitszustand&quot; des&nbsp;Systems. Entdeckt das System an verschiedenen Stellen Unstimmigkeiten, wie etwa doppelte Nummern, Fehler beim Ausf&uuml;hren von Prozessstartern, einen vollgelaufenen Speicher o.&Auml;. wird eine Warn- oder Fehlermeldung in der System Health &Uuml;bersicht erzeugt.</p><img alt="" src="./index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=systemhealth&amp;fileid=3711" style="width: 1200px; height: 591px;" /><br />&nbsp;<h1>&Uuml;bersicht</h1> In der &Uuml;bersicht sind auf einen Blick alle Meldungen &uuml;ber den Gesundheitszustand des Systems ersichtlich. Warnungen werden in orange angezeigt, Fehlermeldungen in rot.<br />&nbsp;<h2><img alt="" src="./index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=systemhealth&amp;fileid=3712" style="width: 1200px; height: 626px;" /><br /><br /><br />Beobachten</h2> Sollten bestimmte Meldungen im System h&auml;ufiger sein, werden diese &quot;beobachtet&quot;. Im Fall des Auftretens eines solchen Fehlers wird dann sofort ein Hinweis, auch im laufenden Betrieb, eingeblendet.<br />&nbsp;<h2>&nbsp;</h2><h1>Zeitlicher Ablauf der Systempr&uuml;fungen</h1> Die dargestellten Meldungen werden in verschiedenen Intervallen und zu verschiedenen Zeitpunkten erstellt.<br />&nbsp;<h2>Regelm&auml;&szlig;ige Pr&uuml;fung durch Prozessstarter</h2>Wie weiter unten beschrieben f&uuml;hrt der mitgelieferte Prozessstarter regelm&auml;&szlig;ig (typischerweise einmal t&auml;glich) ausf&uuml;hrliche Pr&uuml;froutinen durch, um den Systemzustand zu bewerten.<br />Einige der regelm&auml;&szlig;ig ausgef&uuml;hrten Pr&uuml;fungen werden beim Aufruf des Moduls System Meldungen erneut ausgef&uuml;hrt. Im Zweifel lohnt sich also nach der L&ouml;sung eines Problems der erneute Aufruf des Modules. Eine wiederholte Ausf&uuml;hrung des Prozesstarters wird jedoch auf Grund der u.U. langen Laufzeit nicht empfohlen. Das System w&uuml;rde st&auml;rker ausgelastet und die Aussagekraft der Meldungen durch zeitliche &Uuml;berschneidungen beeintr&auml;chtigt.<br />&nbsp;<h2>Pr&uuml;fung bei Ausf&uuml;hrung</h2>Meldungen wie z.B. die Connectivit&auml;t zu Online-Shops oder APIs, &Uuml;bertragen. Moduls o.&auml;. werden zum Zeitpunkt des erkennens protokolliert und in der Anzeige vorgehalten bis sie zur&uuml;ckgesetzt werden. Dabei ist es m&ouml;glich, dass zwischenzeitlich bereits erfolgreiche Verbindungen stattgefunden haben. Die Meldung ist in diesem Fall veraltet, deutet jedoch immer noch auf eine mind. einmalige fehlerhafte Verbindung hin.<br />&nbsp;<h1><br />Prozessstarter</h1> F&uuml;r die Funktionalit&auml;t des System Health Moduls ist der Prozessstarter System Health notwendig. Dieser kann unter Administration &rarr; Einstellungen &rarr; Prozessstarter nach diesem Muster eingestellt werden:<br /><br /><img alt="" src="./index.php?module=wiki&amp;action=getfile&amp;workspacefolder=XentralHandbuch&amp;article=systemhealth&amp;fileid=3713" style="width: 1200px; height: 441px;" /><br /><br />F&uuml;r die &Uuml;berpr&uuml;fung doppelter Nummern ist zus&auml;tzlich der Prozessstarter &quot;Doppelte Nummern pr&uuml;fen&quot; notwendig.<h1><br /><br />Fehlermeldungen und deren Bedeutung</h1><h2>MHD / Chargen / Seriennummern</h2><p><span style="color:null;"><span style="font-size:16px;"><strong>Chargen-Schiefstand</strong></span></span></p> Meldung wenn Chargeneintr&auml;ge nicht mit der Menge der vorhandenen Artikel zusammenpassen.<p><br /><span style="color:null;"><span style="font-size:16px;"><strong>MHD-Schiefstand</strong></span></span></p><span style="color:null;"> </span>Meldung wenn Chargeneintr&auml;ge nicht mit der Menge der vorhandenen Artikel zusammenpassen.<p><br /><span style="font-size:16px;"><strong>Abgelaufene MHD</strong></span></p> Es wurden Artikel gefunden, bei denen das Mindesthaltbarkeitsdatum &uuml;berschritten wurde.<p><br /><span style="font-size:16px;"><strong>Seriennummern</strong></span></p> Es existieren mind. 2 gleiche Artikel mit identischen Seriennummern. Mit Hilfe des Moduls &quot;Doppelte Nummern&quot; k&ouml;nnen die Seriennummern identifiziert und die Eintr&auml;ge manuell korrigiert werden.<br />&nbsp;<h2><br />Prozessstarter</h2><p><span style="font-size:16px;"><strong>Fehler</strong></span></p><p>Hier werden Hinweise aufgef&uuml;hrt, wenn aktive Prozessstarter nicht richtig ausgef&uuml;hrt oder nicht korrekt beendet werden konnten.</p><p>Prozessstarter, die nicht ben&ouml;tigt werden, k&ouml;nnen unter Administration &rarr; Einstellungen &rarr; Prozessstarter einfach deaktiviert werden. Das ist vor allem dann sinnvoll, wenn ein Prozessstarter l&auml;uft, man aber das dazugeh&ouml;rige Modul nicht besitzt oder nicht verwendet.</p><p>Wird ein Prozessstarter auch wirklich gebraucht, aber nicht korrekt beendet, so kann er unter Administration &rarr; Einstellungen &rarr; Prozessstarter noch einmal manuell angesto&szlig;en werden, was oftmals schon ausreicht.</p><p>L&auml;uft der Prozessstarter auch nach mehreren Versuchen nicht durch, so empfiehlt es sich die Ursache am Server zu suchen, also den Serverhoster oder -administrator zu kontaktieren. Kunden, deren System auf der xentral Cloud gehostet sind, k&ouml;nnen sich per Support-Ticketsystem an xentral wenden.<br />&nbsp;</p><p><span style="font-size:16px;"><strong>Aktivit&auml;t</strong></span></p> Hier wird die letzte Ausf&uuml;hrung des System-Prozessstarters protokolliert. Eine regelm&auml;&szlig;ige Ausf&uuml;hrung f&uuml;hrt zu einer regelm&auml;&szlig;igen Aktualisierung des angezeigten Datums und der angezeigten Uhrzeit.<h3><br /><span style="font-size:16px;"><strong>Laufzeit</strong></span></h3> Hinweis auf die systemseitig konfigurierte maximale Laufzeit der Prozessstarter. Empfohlen werden mind. 30 Sek. Ideal ist eine unbegrenzte Laufzeit.<br />&nbsp;<h3><span style="font-size:16px;"><strong>Speicher</strong></span></h3> Hinweis auf die systemseitig konfigurierte maximale Speichertnutzung der Prozessstarter. Empfohlen werden mind. 128 MB. Ideal sind mind. 512 MB je Prozess.<h3><br /><span style="color:null;"><span style="font-size:16px;"><strong>Speicher&uuml;berlauf</strong></span></span></h3>Diese Meldung erscheint, wenn der Serverspeicher voll ist.<h2><br /><br />Datenbank</h2><p><span style="color:null;"><span style="font-size:16px;"><strong>DB-Version</strong></span></span></p>Diese Meldung erscheint, wenn die Datenbank Version veraltet ist.<p><br /><span style="color:null;"><strong><span style="font-size:16px;">DB-Version ab 20.2</span></strong></span></p>Die Ursache ist, dass ab der Xentral-Version 20.2 Funktionen der MySQL-Datenbank in der Version 5.7 oder h&ouml;her ben&ouml;tigt werden. Die L&ouml;sung ist, dass&nbsp;rechtzeitig daf&uuml;r gesorgt wird, dass der Systemadministrator oder Hosting-Provider auf die Datenbankversion 5.7 updated.<br />&nbsp;<p><span style="color:null;"><span style="font-size:16px;"><strong>SQL-Fehler</strong></span></span></p> Es ist ein Fehler im Zusammehang mit SQL-Queries erkannt worden.<p><br /><span style="font-size:16px;"><strong>Datenintegrit&auml;t</strong></span></p> Die Ursache hier ist, dass&nbsp;&quot;verwaiste&quot; Datenbankeintr&auml;ge existieren. In der Regel handelt es sich dabei um Eintr&auml;ge bei denen der &uuml;bergeordneter Bezug (Elternknoten) nicht mehr existiert. Hauptursache daf&uuml;r sind unvollst&auml;ndig oder fehlerhaft manuell gel&ouml;schte Daten, z.B. Testdaten. Zur L&ouml;sung ist&nbsp;zun&auml;chst auf den Meldungstext zu klicken. Es erscheint eine Seite auf der die Datenbank per Klick auf den Button &quot;Testen&quot; getestet werden kann. Im Anschlu&szlig; ist eine Liste der gefundenen Integrit&auml;tsfehler ersichtlich. Hier k&ouml;nnen einige per Klick in der Spalte Aktion gefixt werden. Alle anderen Fehler k&ouml;nnen durch einen Techniker durch einen Blick auf die Datenbank gepr&uuml;ft werden. Zur L&ouml;sung ist in der Regel ein Techniker notwendig. Ggf. kann xentral einen Kontakt zu einem unserer IT-Partner herstellen.<br /><br /><strong>Hinweis</strong>: Es wird dringend davon abgeraten direkt auf Datenbankebene in xentral zu arbeiten. Die Datenintegrit&auml;t kann durch solche Eingriffe gef&auml;hrdet werden. In jedem Fall muss vorab ein Datenbank-Snapshot erstellt werden um ggf. auf einen laufenden vorherigen Zustand des Systems zur&uuml;ckfallen zu k&ouml;nnen.<h2><br /><br />Stammdaten</h2><p><span style="font-size:16px;"><strong>Doppelte Artikelnummern, Kundennummern, Lieferantennummern</strong></span></p><p>Diese Hinweismeldung entsteht durch manuelle Bearbeitung, eine &Auml;nderung der Nummernkreisdefintion oder von Projekteinstellungen sind verschiedene Datens&auml;tze von Artikeln oder Adressen mit denselben Nummern belegt. Zur Artikelnummern, Kundennummern und Lieferantennummern k&ouml;nnen durch Eingabe einer neuen Nummer ge&auml;ndert werden. Es ist m&ouml;glich durch einen Klick auf den Meldungstext in das Modul Doppelte Nummern zu springen. Dort werden die Elemente mit gleichen Nummern angezeigt und k&ouml;nnen von dort aus einfach bearbeitet werden.</p>&nbsp;<p><span style="font-size:16px;"><strong>Leere Artikelnummern</strong></span></p><p>Bei diesem Hinweis haben&nbsp;Artikel keine Artikelnummer. Artikel mit leeren Artikelnummern k&ouml;nnen durch Eingabe einer neuen Artikelnummer erg&auml;nzt werden. Artikel werden in der Regel &uuml;ber ihre technische ID angesprochen, eine Erg&auml;nzung fehlender Artikelnummern ist also m&ouml;glich.</p>&nbsp;<p><span style="font-size:16px;"><strong>Rechnungsnummern, Gutschriftsnummern</strong></span></p><p>Bei dieser Warnung haben&nbsp;mind. 2 Rechnungen oder mind. 2 Gutschriften&nbsp;die gleiche Nummer. Doppelte Belegnummern bei Rechnungen und Gutschriften sollten in der Regel nicht vorkommen. Es kann aber dazu kommen, wenn z.B. der eingestellte globale oder projektspezifische Nummernkreis zur&uuml;ckgesetzt/ver&auml;ndert wurde oder wenn Belege &uuml;ber den Belege Importer ins System geladen wurden.</p><strong>L&ouml;sung</strong>:<ul><li>Zun&auml;chst ist auf Basis unseres Helpdeskeintrages des Moduls Doppelte Nummern die Meldung zu bearbeiten.</li><li>Sind die Fehler durch einen Import (z.B. &uuml;ber den Belegimporter) entstanden, ist ggf. der&nbsp;letzte&nbsp;Datenbank-Snapshot wieder einzuspielen. Vor dem n&auml;chsten Import sind&nbsp;ggf. die Nummernkreisdefinitionen zu &auml;ndern oder&nbsp; die Importdaten zu bearbeiten.</li><li>Sollte dies nicht funktioniert haben, ist unser&nbsp;Support oder ein&nbsp;technischer&nbsp;Partner zur Bereinigung der Datenbankeintr&auml;ge zu kontaktieren.</li></ul><br /><strong>Hinweis</strong>: Es ist sicherzustellen, dass die Definition von Nummernkreisen nicht im laufenden Betrieb umgestellt wird. Sollten Projekte eigene Nummernkreise besitzen sollte diese Einstellung dringend beibehalten werden. Bereits mit dem Abschalten des eigenen Nummernkreises in einem Projekt k&ouml;nnen doppelten Nummern &quot;erzeugt&quot; werden da diese nun nicht mehr als projektspezifisch angesehen werden.<br />&nbsp;<h2><br />Server</h2><p><span style="font-size:16px;"><strong>Speicherplatz</strong></span></p> Anzeige des verbleibenden Speicherplatzes.<br /><strong>Hinweis</strong>: Dieser Wert kann aus technischen Gr&uuml;nden nicht auf allen Systemen (z.B. Shared Hosting) abgefragt werden.<br />&nbsp;<p><span style="font-size:16px;"><strong>Lizenz</strong></span></p> Zeigt eine evtl. in K&uuml;rze ablaufende Lizenz (bei monatlicher Zahlweise im Mietmodell) bzw. ablaufenden Support (bei Kauflizenzen) an. Es erscheint eine Warnung (ab 14 Tage vor Ablauf der Lizenz) oder ein Fehler nach Ablauf der Lizenz Zur L&ouml;sung ist der xentral Vertrieb zur Kl&auml;rung oder zur Verl&auml;ngerung der Lizenz zu kontaktieren.<br /><br /><strong>Hinweis</strong>: Unter Umst&auml;nden kann bei Cloud-Lizenzen nach l&auml;ngerer Inaktivit&auml;t (l&auml;nger 30 Tage) ein Hinweis auf eine abgelaufene Lizenz angezeigt werden. Durch eine erneute Pr&uuml;fung (z.B. durch den pr&uuml;femdem Prozessstarter oder den Aufruf des Moduls System Meldungen kann dieser Hinweis entfernt werden. Sollte sich der Hinweis trotz g&uuml;ltiger Cloud-Lizenz nicht entfernen lassen, ist der xentral Support zu kontaktieren.<h3>&nbsp;</h3><p><span style="font-size:16px;"><strong>Scriptlauftzeit</strong></span></p> Um sicherzustellen, dass auch l&auml;nger andauernde Berechnungen in Prozessstartern korrekt und abschlie&szlig;end ausgef&uuml;hrt werden k&ouml;nnen, ist die L&auml;nge der erlaubten Script-Laufzeit, eine Einstellung der Server-Konfiguration, wichtig.<h3>&nbsp;</h3><p><span style="font-size:16px;"><strong>Upload-Kapazit&auml;t</strong></span></p> Um sicherzustellen, dass Dateien und &uuml;bertragene Formulardaten korrekt auf den Server &uuml;bertragen werden k&ouml;nnen, ist die Upload-Kapazit&auml;t, eine Einstellung der Server-Konfiguration, wichtig.<h3>&nbsp;</h3><p><span style="font-size:16px;"><strong>PHP-Version</strong></span></p> Bei PHP handelt es sich um eine Serversoftware (genauer: einen Interpreter), die notwendig ist um xentral ablaufen zu lassen. Da diese Software serverseitig in verschiedenen Versionen vorliegen kann, die unterschiedliche Funktionalit&auml;t bieten, ist die korrekte Mindestversion relevant f&uuml;r das Ausf&uuml;hren von xentral ERP.<h3>&nbsp;</h3><p><span style="font-size:16px;"><strong>Userdata</strong></span></p> Wenn die Meldung &quot;Userdata-Verzeichnis nicht beschreibbar&quot; erscheint, gilt: Dieser kritische Fehler muss dringend durch den Systemadministrator oder Hosting-Provider behoben werden. Dabei muss sichergestellt werden, dass das Verzeichnis userdata und alle Unterverzeichnisse durch den Benutzer beschreibbar ist, der den Webserver undd die Cronjobs (z.B. starterX.php) ausf&uuml;hrt. Ohne eine Behebung dieses Fehler k&ouml;nnen keine Datein gespeichert, keine PDF-Archive angelegt oder Snapshots der Datenbank gesichert werden.<br /><br />Wenn die Meldung &quot;Userdata-Verzeichnis von aussen einsehbar&quot; erscheint, gilt: Dieser Fehler sollte aus Gr&uuml;nden des Datenschutzes durch den Systemadministrator oder Hosting-Provider behoben werden.<br /><br />Dazu kann<ul><li>entweder in der Webserver-Konfiguration die DocRoot umgesetzt werden (auf das Verzeichnis &quot;&quot;www&quot;&quot;, das in Standardfall parallel zum Verzeichnis userdata liegt), so dass das userdata Verzeichnis nicht mehr &quot;offen&quot; ist.</li><li>Alternativ kann das userdata Verzeichnis auch nach &quot;oberhalb&quot; der Docroot verschoben werden und dann in der Datei userinc.php der Pfad angepasst werden.</li><li>Je nach Webserver (i.d.R. apache oder nginx) kann auch per .htaccess der Zugriffsschutz auf das userdata Verzeichnis entzogen werden.</li></ul>&nbsp;<h2><br />Einstellungen</h2><p><span style="font-size:16px;"><strong>Firmendaten</strong></span></p> Sollte es zu Problemen bei der Pr&uuml;fung der hinterlegten Firmendaten kommen wird diese Meldung aktiv.&nbsp;<h3>&nbsp;</h3><p><span style="font-size:16px;"><strong>Briefpapier</strong></span></p>Die Verwendung von zu gro&szlig;en PDF-Hintergrunddateien oder eines sehr hochaufl&ouml;senden Logos f&uuml;hrt bei hoher Anzahl von Belegen schnell zu einem unn&ouml;tig hohen Speicherplatzbedarf auf dem Server. In diesem Fall sollten dringend die verwendeten Vorlagen (Briefpapier-PDF oder Logodatei) verkleinert werden. Zur L&ouml;sung ist die Grafik-Agentur zu kontaktieren oder die Hintergrunddateien unter Ber&uuml;cksichtigung der folgenden Tipps selbst noch einmal neu zu erstellen.<ul><li>keine vollformatigen Scans sondern nur Fl&auml;chen hinterlegen, die notwendig sind (z.B. Kopf und Fussbereich)</li><li>Verwendung von Vektordaten f&uuml;r Logos und andere grafische Elemente</li><li>Texte immer als Schrift setzen, nicht als Bild</li><li>PDF-Datei nicht rastern und platzsparend abspeichern</li></ul><br />Eine gute Dateigr&ouml;&szlig;e f&uuml;r hinterlegte Briefpapier-PDF-Dateien ist 50 kB.<h2><br /><br />Bereich Onlineshops</h2><p><span style="font-size:16px;"><strong>Authentifizierung</strong></span></p>Diese Meldungen erscheinen bei Fehlern in der Verbindung zu Online-Shops.<h1><br /><br />Bekannte Probleme / Known Issues</h1> Das Modul System Health befindet sich derzeit im Beta-Stadium. Daher k&ouml;nnen vereinzelt sog. Falsch-Positive Meldungen auftreten, d.h. es werden Fehler angezeigt die nicht existieren. Au&szlig;erdem werden Fehler angezeigt, die bereits seit l&auml;ngerem im System vorliegen (wie z.B. Inkonsistente Daten).<br /><br />Wir bitten diese Fehler gerne an uns zu melden, damit xentral die Ursache beheben kann. Bitte vorab den Fehler mit der folgenden Liste abgleichen, um Mehrfachmeldungen zu vermeiden.<h2><br />Liste Bekannter Probleme</h2> (Stand 20.02.2020)<ul><li>VAT-Meldung: Link defekt</li><li>Meldung Dateninkonsistenz: arbeitspaket.projekt &gt; projekt.id</li><li>Meldung &quot;Doppelte Kundennummern&quot; wird angezeigt, Modul Doppelte Nummern zeigt keine Fehler</li><li>Meldung &quot;Doppelte Lieferantennummern&quot; wird angezeigt, Link verweist auf Modul Doppelte Nummern / Doppelte Kundennummern und zeigt keine Fehler</li><li>Meldung Dateninkonsistenz: documente_send.adresse &gt; adresse.id</li><li>Meldung Dateninkonsistenz: produktion_protokoll.produktion &gt; produktion.id</li><li>Meldung Dateninkonsistenz: datei_version.datei &gt; datei.id und datei_stichwoerter.datei &gt; datei.id</li><li>Meldung Dateninkonsistenz: pdfarchiv.table_id &gt; rechnung.id, pdfarchiv.table_id &gt; auftrag.id, pdfarchiv.table_id &gt; bestellung.id, pdfarchiv.table_id &gt; angebot.id</li><li>Meldung Dateninkonsistenz: verkaufspreise.artikel &gt; artikel.id</li><li>Meldung Dateninkonsistenz: einkaufspreise.artikel &gt; artikel.id und verkaufspreise.artikel &gt; artikel.id</li><li>Meldung Dateninkonsistenz: pdfarchiv.table_id &gt; lieferschein.id und beleg_chargesnmhd.doctypeid &gt; lieferschein.id</li><li>Warnmeldung bzgl. Doppelter Nummern verh&auml;lt sich umgekehrt zu Administration =&gt; Einstellungen =&gt; Grundeinstellungen =&gt; Doppelte Seriennummern</li><li>Meldung Doppelte Seriennummern: Link zum Serinnummernmodul funktioniert nicht</li></ul><br /><br />&nbsp;