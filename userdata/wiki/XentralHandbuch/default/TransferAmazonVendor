<h1><strong><span style="font-size:28px;">Amazon Vendor</span></strong></h1><p>Mit Hilfe der Amazon Vendor-Schnittstelle k&ouml;nnen Lieferungen f&uuml;r das Amazon Vendorenprogramm bearbeitet werden. Voraussetzung ist das <a href="index.php?module=uebertragungen&amp;action=list&amp;cmd=uebertragungen" target="_blank">&Uuml;bertragungen Modul</a>.<br /><br />Dazu ist es m&ouml;glich Bestellungen von Amazon zu empfangen und zu verarbeiten (ORDER).<br />Nach Abschlu&szlig; der Lieferung kann gegen&uuml;ber Amazon angerechnet werden (INVOICE).<br /><br />Die Daten&uuml;bertragung erfolgt z.B. mit SFTP. Alternativ kann AS2 verwendet werden, ein signiertes Nachrichtenverfahren f&uuml;r das wir Ihnen bei Bedarf in Form eines AS2-Servers bereitstellen k&ouml;nnen - wir unterst&uuml;tzen Sie auch beim Prozess der Freischaltung durch amazon. Bitte wenden Sie sich dazu an unseren Vertrieb.<br />&nbsp;</p><h1>EDI-Verbindung</h1>EDI Messages sind in in Codezeilen unterteilt, in denen jeweils genau definierte Daten &uuml;bermittelt werden.<br />&nbsp;<h2>UNB: Kommunikationspartner</h2>Die UNB Zeile definiert unter anderem den Empf&auml;nger und Absender. Das &quot;Gegen&uuml;ber&quot; erwartet hier meist ein &quot;weltweit&quot; eindeutiges Kennzeichen f&uuml;r den Kommunikationspartner.<br />Daf&uuml;r existieren verschiedene M&ouml;glichkeiten:<ul><li>Quasi-Standard ist hier eine GLN (Global Location Number, fr&uuml;her auch ILN) aus dem GS1 System (vormals EAN System), die in Deutschland von der <a href="https://gs1.de">GS1.de</a> verwaltet wird. Diese GLN UNB ID Typ &quot;14&quot; ist aber nur eine M&ouml;glichkeit von vielen.</li><li>F&uuml;r einen schnellen Start und wenn die Schnittstellte selbst entwickelt wird kann als UNB-ID auch der Typ &quot;9&quot; gew&auml;hlt werden, dort wird die DUNS Nummer (auch D-U-N-S, kurz f&uuml;r Data Universal Numbering System) erwartet, die unter <a href="https://www.upik.de/upik_suche.cgi">https://www.upik.de/upik_suche.cgi</a> abgefragt werden kann. Alle Kapitalgesellschaften bekommen nach Anmeldung bei den entsprechenden Beh&ouml;rden automatisch eine DUNS-Nummer zugewiesen.</li><li>Zuletzt besteht auch die M&ouml;glichkeit die Telefonnummer mit intl. Vorwahl und als UNB-ID Typ &quot;12&quot; zu verwenden.<br />&nbsp;</li></ul><h2>&Uuml;bertragungsstandard EDI / EDIFACT</h2>Bei EDI/EDIFACT wird so gut wie alles mit Codelisten &uuml;bertragen, denn das Protokoll stammt aus den 1980er Jahren wo jedes Byte noch teuer war. Daf&uuml;r existieren einige Quellen, die das Format erl&auml;utern und den Umgang damit aufzeigen:<ul><li>Einen guten Einstieg bekommt man unter <a href="https://www.stylusstudio.com/edifact/">https://www.stylusstudio.com/edifact/</a></li><li>etwas komplizierter aber daf&uuml;r sehr umfangreich <a href="https://service.unece.org/trade/untdid/d96a/trmd/orders_t.htm">https://service.unece.org/trade/untdid/d96a/trmd/orders_t.htm</a></li></ul>Die Daten&uuml;bertragung erfolgt z.B. mit SFTP ausschlie&szlig;lich per keyfile (ssh pub-key), alternativ wird AS2 verwendet. Wir k&ouml;nnen Ihnen dazu bei Bedarf einen AS2-Server bereitstellen, bitte wenden Sie sich dazu an unseren Vertieb oder den Partner-Betreuer. Die EDI-Datei an sich ist eine reine Textdatei, idealerweise codiert in UTF8 - das ist aber nicht zwingend im Standard vorgeschrieben. Wird eine Datei vom Gegen&uuml;ber gesendet die nur eine eine Zeile enth&auml;lt, kann das EDI Satzendzeichen &#39; (einfaches Anf&uuml;hrungszeichen, das wird im UNA Segment definiert) durch ein LF bzw. CR/LF ersetzen damit wird die Struktur sehr gut lesbar.<br />Bestimme Segmente k&ouml;nnen in EDI mehrfach vorkommen und haben dann evtl. eine unterschiedliche Bedeutung z.B. Daten im Kopf (Header) und auf Positions-Ebene.<h2><br />Beispiel ORDER</h2>Zum schnellen Start in das Thema haben wir ein paar Segmente in einer ORDER zusammengefasst - so l&auml;sst sich schnell verstehen, wie eine ORDER zu parsen w&auml;re.<br /><br />BGM+220+4HQ7EBLG+9&#39;&nbsp;&nbsp; &rarr; Bestellung mit PO Nummer 4HQ7EBLG,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &rarr; die 9 am Schluss bedeutet es werden die EAN/GS1 Codelisten verwendet<br />DTM+137:20190107:102&#39;&nbsp; &rarr; Belegdatum im Format 102<br />DTM+63:20190111:102&#39;&nbsp; &nbsp; &rarr; Lieferdatum sp&auml;testens im Format 102<br />DTM+64:20190107:102&#39; &nbsp;&nbsp; &rarr; Lieferdatum fr&uuml;hstens im Format 102<br /><br />Ben&ouml;tigt wird das GLN Verzeichnis aus dem Vendor-Central, damit die Lieferadressen zugeordnet werden k&ouml;nnen.<br /><br />NAD+BY+5450534000017::9&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &rarr; K&auml;ufer, GLN Codiert<br />NAD+SU+4016428000009::9&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &rarr; Lieferant, hier wird die eigene UNB-ID wieder angegeben<br />NAD+DP+5450534002325::9+++++++DE&#39; &rarr; Lieferadresse mit Land<br />NAD+IV+5450534005838::9++AMAZON EU SARL:NIEDERLASSUNG DEUTSCHLAND+MARCEL-BREUER-STR. 12+MUENCHEN++80807+DE&#39;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &rarr; Rechnungsadresse als GLN und Klartext muss in der INVOICE Message auch komplett<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &rarr; im Klartext &uuml;bertragen werden.<br /><br />Im Folgenden (ab LIN) beginnen die Positionen, zwischen NAD und LIN k&ouml;nnen noch weitere Zeilen kommen zb. RFF (Referenz jeweils zum aktuellen Element) und CUX (hier wird die W&auml;hrung definiert).<br /><br />Jedes LIN definiert den Beginn einer neuen Position an (LIN+1, LIN+2, LIN+3 usw.)<br />LIN+1++4016428352115:EN&#39; &rarr; Artikel Pos 1 mit Artikel EAN, EN=Datenherkunft EAN, k&ouml;nnte evtl. auch SA sein<br />QTY+21:52&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &rarr; Pos Menge in St&uuml;ck<br />PRI+AAA:55.9&#39;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &rarr; Preis pro St&uuml;ck netto<br /><br />Im Anschluss folgen noch Rahmendaten die vor allem der Validierung dienen:<ul><li>Mit UMS+S beginnt der Summenblock, der mit Hilfe verschiedener Summen eine Validierung erm&ouml;glicht.</li><li>Sollten mehrere Belege ein einer UNB &Uuml;bertragung enthalten sein, folgen diese nun durch ein UNH bzw. BGM getrennt wieder mit dem Belegkopf.</li></ul>